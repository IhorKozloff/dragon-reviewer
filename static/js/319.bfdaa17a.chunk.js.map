{"version":3,"file":"static/js/319.bfdaa17a.chunk.js","mappings":"gTAee,SAASA,IAEpB,IAAMC,GAAWC,EAAAA,EAAAA,MACXC,GAAWC,EAAAA,EAAAA,MAEXC,EAAmB,mCAAG,WAAOC,GAAP,wFAENC,EAAAA,EAAAA,IAAYD,GAFN,OAElBE,EAFkB,OAIQ,IAA5BC,OAAOC,KAAKF,GAAKG,QACjBR,GAASS,EAAAA,EAAAA,IAAUJ,EAAIK,SACvBV,GAASW,EAAAA,EAAAA,IAAgBN,EAAIO,SAE7BZ,GAASS,EAAAA,EAAAA,IAAU,KACnBT,GAASW,EAAAA,EAAAA,IAAgB,MATL,2CAAH,sDAyCzB,OACI,SAAC,KAAD,CAASE,UAAU,iBAAnB,UACI,SAAC,KAAD,CAAWA,UAAU,4BAArB,UACI,SAAC,KAAD,CAAWC,aA7BF,SAAC,GAAuB,IAAtBX,EAAqB,EAArBA,MAAOY,EAAc,EAAdA,SAGpBC,GAAOC,EAAAA,EAAAA,OACbC,EAAAA,EAAAA,IAA2BF,EAAMb,EAAOY,GAAUI,MAAK,YAAa,IAAXC,EAAU,EAAVA,KAErDpB,GAASqB,EAAAA,EAAAA,IAAQ,CACblB,MAAOiB,EAAKjB,MACZmB,GAAIF,EAAKG,IACTC,MAAOJ,EAAKK,eAGhBvB,EAAoBkB,EAAKjB,OACzBL,EAAS,IAGZ,IAAE4B,OAAO,SAAAC,GACNC,QAAQC,IAAIF,EAAMG,SAClBC,IAAAA,OAAAA,QAAwB,+CAC3B,GAIJ,OAUJ,C","sources":["Pages/LoginPage.jsx"],"sourcesContent":["import { Section, Container } from \"GlobalStyles\";\nimport { LoginForm } from \"components\";\n\nimport { useDispatch } from \"react-redux\";\nimport { setUser } from \"redux/authSlice\";\n\nimport Notiflix from 'notiflix';\n\nimport { useNavigate } from \"react-router-dom\";\n\nimport { getUserData } from \"API\";\nimport { getAuth, signInWithEmailAndPassword } from \"firebase/auth\";\n\nimport { setHistoryState, setAvatar } from \"redux/favoritesSlice\";\n\nexport default function LoginPage () {\n\n    const navigate = useNavigate();\n    const dispatch = useDispatch();\n\n    const setFavoritesHistory = async (email) => {\n\n        const res = await getUserData(email);\n\n        if (Object.keys(res).length !== 0) {\n            dispatch(setAvatar(res.avatar))\n            dispatch(setHistoryState(res.data))\n        }  else {\n            dispatch(setAvatar(''))\n            dispatch(setHistoryState([]))\n        }\n        \n    }\n    \n\n    const handleSubmit = ({email, password}) => {\n\n\n        const auth = getAuth();\n        signInWithEmailAndPassword(auth, email, password).then(({user}) => {\n\n            dispatch(setUser({\n                email: user.email,\n                id: user.uid,\n                token: user.accessToken\n            }))\n\n            setFavoritesHistory(user.email);\n            navigate(\"/\");\n            \n\n        }).catch( error => {\n            console.log(error.message)\n            Notiflix.Notify.failure('There is no user with this email or password');\n        })\n        \n            \n        \n    };\n\n\n    return (\n        <Section className=\"rocket-details\">\n            <Container className=\"rocket-details__container\">\n                <LoginForm handleSubmit={handleSubmit}/>\n            </Container>\n        </Section>\n    )\n}"],"names":["LoginPage","navigate","useNavigate","dispatch","useDispatch","setFavoritesHistory","email","getUserData","res","Object","keys","length","setAvatar","avatar","setHistoryState","data","className","handleSubmit","password","auth","getAuth","signInWithEmailAndPassword","then","user","setUser","id","uid","token","accessToken","catch","error","console","log","message","Notiflix"],"sourceRoot":""}