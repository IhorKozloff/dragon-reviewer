{"version":3,"file":"static/js/319.e7c32d19.chunk.js","mappings":"0TAiBe,SAASA,IAEpB,IAAMC,GAAWC,EAAAA,EAAAA,MACXC,GAAWC,EAAAA,EAAAA,MAEXC,EAAmB,mCAAG,WAAOC,GAAP,kFAEIC,EAAAA,EAAAA,KAAQC,EAAAA,EAAAA,IAAWC,EAAAA,EAAI,mBAF3B,cAIVC,SAAQ,SAACC,GAEfA,EAAIC,OAAON,QAAUA,IACrBH,GAASU,EAAAA,EAAAA,IAAUF,EAAIC,OAAOE,SAC9BX,GAASY,EAAAA,EAAAA,IAAgBJ,EAAIC,OAAOA,OAE3C,IAVuB,2CAAH,sDAuCzB,OACI,SAAC,KAAD,CAASI,UAAU,iBAAnB,UACI,SAAC,KAAD,CAAWA,UAAU,4BAArB,UACI,SAAC,KAAD,CAAWC,aA5BF,SAAC,GAAuB,IAAtBX,EAAqB,EAArBA,MAAOY,EAAc,EAAdA,SAGpBC,GAAOC,EAAAA,EAAAA,OACbC,EAAAA,EAAAA,IAA2BF,EAAMb,EAAOY,GAAUI,MAAK,YAAa,IAAXC,EAAU,EAAVA,KAErDpB,GAASqB,EAAAA,EAAAA,IAAQ,CACblB,MAAOiB,EAAKjB,MACZmB,GAAIF,EAAKG,IACTC,MAAOJ,EAAKK,eAEhBvB,EAAoBkB,EAAKjB,OACzBL,EAAS,IAGZ,IAAE4B,OAAO,SAAAC,GACNC,QAAQC,IAAIF,EAAMG,SAClBC,IAAAA,OAAAA,QAAwB,+CAC3B,GAIJ,OAUJ,C","sources":["Pages/LoginPage.jsx"],"sourcesContent":["import { Section, Container } from \"GlobalStyles\";\nimport { LoginForm } from \"components\";\n\nimport { useDispatch } from \"react-redux\";\nimport { setUser } from \"redux/authSlice\";\n\nimport Notiflix from 'notiflix';\n\nimport { useNavigate } from \"react-router-dom\";\n\n\nimport { getAuth, signInWithEmailAndPassword } from \"firebase/auth\";\n\nimport db from \"../firebase\";\nimport { getDocs, collection } from \"firebase/firestore\";\nimport { setHistoryState, setAvatar } from \"redux/favoritesSlice\";\n\nexport default function LoginPage () {\n\n    const navigate = useNavigate();\n    const dispatch = useDispatch();\n\n    const setFavoritesHistory = async (email) => {\n    \n        const querySnapshot = await getDocs(collection(db, \"usersFavorites\"));\n\n        querySnapshot.forEach((doc) => {\n    \n            if (doc.data().email === email) {\n                dispatch(setAvatar(doc.data().avatar))\n                dispatch(setHistoryState(doc.data().data))\n            }\n        })\n    }\n    \n\n    const handleSubmit = ({email, password}) => {\n\n\n        const auth = getAuth();\n        signInWithEmailAndPassword(auth, email, password).then(({user}) => {\n\n            dispatch(setUser({\n                email: user.email,\n                id: user.uid,\n                token: user.accessToken\n            }))\n            setFavoritesHistory(user.email);\n            navigate(\"/\");\n            \n\n        }).catch( error => {\n            console.log(error.message)\n            Notiflix.Notify.failure('There is no user with this email or password');\n        })\n        \n            \n        \n    };\n\n\n    return (\n        <Section className=\"rocket-details\">\n            <Container className=\"rocket-details__container\">\n                <LoginForm handleSubmit={handleSubmit}/>\n            </Container>\n        </Section>\n    )\n}"],"names":["LoginPage","navigate","useNavigate","dispatch","useDispatch","setFavoritesHistory","email","getDocs","collection","db","forEach","doc","data","setAvatar","avatar","setHistoryState","className","handleSubmit","password","auth","getAuth","signInWithEmailAndPassword","then","user","setUser","id","uid","token","accessToken","catch","error","console","log","message","Notiflix"],"sourceRoot":""}